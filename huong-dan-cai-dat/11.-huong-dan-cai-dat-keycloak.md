# 11. Hướng dẫn cài đặt Keycloak

## Chuẩn bị&#x20;

* Server triển khai cần được cài đặt docker  theo hướng dẫn : [Hướng dẫn cài đặt docker, docker-compose](5.-cai-dat-docker-docker-compose.md)
* Server cài MariaDB: [Hướng dẫn cài đặt MariaDB](10.-huong-dan-cai-dat-mariadb.md)

## Bước 1. Download image Keycloak

Download image từ [https://drive.google.com/file/d/1WTJWGoPi7Lemm7Fz1TpK\_-dyjou-STrz/view?usp=drive\_link](https://drive.google.com/file/d/1WTJWGoPi7Lemm7Fz1TpK_-dyjou-STrz/view?usp=drive_link)

## Bước 2. Chuẩn bị cài đặt Keycloak

```sh
cd /${path} lưu trữ image keycloak.tar 
```

```sh
docker load -i keycloak.tar
```

## Bước 3. Cài đặt Keycloak

```sh
docker run -d \
  --name keycloak \
  -p 8082:8080 \
  -e KEYCLOAK_ADMIN=admin \
  -e KEYCLOAK_ADMIN_PASSWORD=admin \
  -e KC_DB=mariadb \
  -e KC_DB_URL=jdbc:mariadb://${ip-mariadb}:${port}/keycloak 
  -e KC_DB_USERNAME=keycloak \
  -e KC_DB_PASSWORD=keycloak \
  quay.io/keycloak/keycloak:20.0.5  start\ 
```

## Bước 4. Kiểm tra cài đặt

Mở trình duyệt

Kiểm tra bằng http://${ip}:8082
